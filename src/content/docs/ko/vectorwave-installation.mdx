---
title: 설치
description: VectorWave를 설치하고 Weaviate 벡터 데이터베이스를 설정합니다.
order: 11
category: VectorWave
---

## 사전 요구사항

- **Python** 3.10 — 3.13
- **Docker** (Weaviate 벡터 데이터베이스 실행용)
- (선택) **OpenAI API 키** — AI 자동 문서화, 고성능 임베딩, 자동 치유 기능용

## 1. Weaviate 시작

VectorWave는 [Weaviate](https://weaviate.io/)를 벡터 데이터베이스로 사용합니다.

> 프로덕션 배포에는 완전 관리형 인스턴스인 [Weaviate Cloud (WCS)](https://console.weaviate.cloud/)를 고려하세요.

### Docker Compose (권장)

`docker-compose.yml` 생성:

```yaml
version: '3.4'
services:
  weaviate:
    command:
    - --host
    - 0.0.0.0
    - --port
    - '8080'
    - --scheme
    - http
    image: semitechnologies/weaviate:1.26.1
    ports:
    - 8080:8080
    - 50051:50051
    restart: on-failure:0
    environment:
      QUERY_DEFAULTS_LIMIT: 25
      AUTHENTICATION_ANONYMOUS_ACCESS_ENABLED: 'true'
      PERSISTENCE_DATA_PATH: '/var/lib/weaviate'
      DEFAULT_VECTORIZER_MODULE: 'none'
      ENABLE_MODULES: 'text2vec-openai,generative-openai'
      CLUSTER_HOSTNAME: 'node1'
```

```bash
docker-compose up -d
```

## 2. VectorWave 설치

```bash
pip install vectorwave
```

## 3. 환경 변수

프로젝트 루트에 `.env` 파일을 생성합니다. 아래는 사용 가능한 전체 옵션입니다:

```bash
# === Weaviate 연결 ===
WEAVIATE_HOST=localhost              # Weaviate 호스트명 (기본값: localhost)
WEAVIATE_PORT=8080                   # Weaviate REST API 포트 (기본값: 8080)
WEAVIATE_GRPC_PORT=50051             # Weaviate gRPC 포트 (기본값: 50051)
# WEAVIATE_API_KEY=your-wcs-key     # Weaviate Cloud (WCS)에 필요

# === 벡터라이저 ===
VECTORIZER=weaviate_module           # weaviate_module | openai_client | huggingface | none
# HF_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2  # huggingface 벡터라이저 모델

# === OpenAI ===
OPENAI_API_KEY=sk-...                # openai_client 벡터라이저, 자동 치유, RAG에 필요

# === GitHub (자동 치유 PR) ===
# GITHUB_TOKEN=ghp_...              # GitHub 개인 접근 토큰
# GITHUB_REPO_NAME=org/repo-name    # 대상 리포지토리 (형식: org/repo)
# GITHUB_BASE_BRANCH=main           # PR 대상 브랜치 (기본값: main)

# === 드리프트 감지 ===
# DRIFT_DETECTION_ENABLED=True      # 드리프트 모니터링 활성화 (기본값: False)
# DRIFT_DISTANCE_THRESHOLD=0.25     # KNN 거리 임계값 (기본값: 0.25)
# DRIFT_NEIGHBOR_AMOUNT=5           # KNN 이웃 수 (기본값: 5)

# === 알림 ===
# ALERTER_STRATEGY=webhook          # 알림 전략: none | webhook (기본값: none)
# ALERTER_WEBHOOK_URL=https://discord.com/api/webhooks/...
# ALERTER_MIN_LEVEL=ERROR           # 최소 알림 레벨 (기본값: ERROR)

# === 성능 튜닝 ===
# BATCH_THRESHOLD=20                # 배치 플러시 임계값, 객체 수 (기본값: 20)
# FLUSH_INTERVAL_SECONDS=2.0        # 배치 플러시 간격, 초 (기본값: 2.0)
# ASYNC_LOGGING=False               # 비동기 DB 로깅 활성화 (기본값: False)

# === 커스텀 프로퍼티 & 에러 처리 ===
# CUSTOM_PROPERTIES_FILE_PATH=.weaviate_properties  # 커스텀 스키마 파일 (기본값: .weaviate_properties)
# IGNORE_ERROR_FILE_PATH=.vtwignore                 # 에러 억제 파일 (기본값: .vtwignore)
# FAILURE_MAPPING_FILE_PATH=.vectorwave_errors.json  # 에러 코드 매핑 파일

# === 데이터 마스킹 ===
# SENSITIVE_FIELD_NAMES=password,api_key,token,secret,auth_token  # 로그에서 마스킹할 필드

# === 글로벌 태그 ===
# VECTORWAVE_TAGS_ENVIRONMENT=production   # 모든 실행에 적용
# VECTORWAVE_TAGS_REGION=us-east-1
```

> **최소 설정:** 대부분의 프로젝트에서는 `VECTORIZER`와 선택적으로 `OPENAI_API_KEY`만 필요합니다. 나머지 변수는 모두 기본값이 설정되어 있습니다.

### 벡터라이저 옵션

| 벡터라이저 | 비용 | 품질 | 속도 | 설정 |
|---|---|---|---|---|
| `weaviate_module` | 모듈에 따라 다름 | 우수 | 서버 측 | Weaviate 모듈 설정 필요 (기본값) |
| `openai_client` | $0.0001/1K 토큰 | 우수 | API 호출 | `OPENAI_API_KEY` 필요 |
| `huggingface` | 무료 | 양호 | 로컬 CPU/GPU | API 키 불필요 |
| `none` | 무료 | — | — | 벡터화 없음 |

## 4. 데이터베이스 초기화

처음 사용 전 Weaviate 컬렉션을 초기화합니다:

```python
from vectorwave import initialize_database

initialize_database()
```

네 개의 컬렉션이 생성됩니다:

- `VectorWaveFunctions` — 함수 메타데이터 저장 (소스 코드, 설명, 모듈 경로)
- `VectorWaveExecutions` — 실행 로그 저장 (입력, 출력, 에러, 임베딩)
- `VectorWaveGoldenDataset` — 검증된 고품질 실행 저장 (캐시 우선순위 및 드리프트 감지용)
- `VectorWaveTokenUsage` — LLM 토큰 사용량 추적 (비용 모니터링용)

### 스키마 마이그레이션

`.weaviate_properties`에 새 커스텀 프로퍼티를 추가하거나 VectorWave를 업그레이드할 때:

```python
from vectorwave import update_database_schema

update_database_schema()
```

기존 컬렉션에 새 프로퍼티를 추가하며, 데이터 손실 없이 진행됩니다. 기존 프로퍼티는 수정되지 않습니다.

## 5. 설치 확인

```python
from vectorwave import vectorize, initialize_database

initialize_database()

@vectorize(auto=True)
def hello(name: str):
    return f"Hello, {name}!"

result = hello("World")
print(result)  # "Hello, World!"
```

에러 없이 실행되면 VectorWave가 준비된 것입니다.

## 외부 리소스

- [GitHub: Cozymori/VectorWave](https://github.com/Cozymori/VectorWave) — 소스 코드 및 이슈
- [Weaviate 문서](https://weaviate.io/developers/weaviate) — 벡터 데이터베이스 문서
- [Weaviate Cloud 콘솔](https://console.weaviate.cloud/) — 관리형 Weaviate 인스턴스
- [Weaviate Python 클라이언트](https://weaviate.io/developers/weaviate/client-libraries/python) — Python 클라이언트 라이브러리

## 다음 단계

- [@vectorize 코어](/docs/vectorwave-core) — 핵심 데코레이터 학습
- [시맨틱 캐싱](/docs/vectorwave-caching) — 비용 절감을 위한 캐싱 활성화
- [빠른 시작](/docs/quickstart) — 전체 워크스루
