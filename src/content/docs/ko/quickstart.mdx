---
title: 빠른 시작
description: 5분 안에 cozymori 도구를 설치하고 실행하세요.
order: 2
category: 시작하기
---

## 사전 요구사항

- Python 3.10 — 3.13
- Docker (Weaviate 실행용)

## 1. Weaviate 시작

VectorWave는 Weaviate를 벡터 데이터베이스로 사용합니다. Docker로 시작하세요:

```bash
docker run -d \
  --name weaviate \
  -p 8080:8080 \
  -p 50051:50051 \
  cr.weaviate.io/semitechnologies/weaviate:latest
```

> 프로덕션 배포에는 완전 관리형 인스턴스인 [Weaviate Cloud (WCS)](https://console.weaviate.cloud/)를 고려하세요.

## 2. VectorWave 설치

```bash
pip install vectorwave
```

## 3. 초기화 및 추적 시작

```python
from vectorwave import vectorize, initialize_database

# Weaviate 컬렉션 생성
initialize_database()

# 데코레이터 하나로 함수를 추적하고 캐싱
@vectorize(
    semantic_cache=True,
    cache_threshold=0.95,
    capture_return_value=True,
    team="my-team"  # custom tag
)
async def generate_response(query: str):
    # 여기에 LLM 호출
    return await llm.complete(query)
```

이게 전부입니다. `generate_response`의 모든 호출은 이제:
- **벡터화** — 입력이 임베딩으로 변환됩니다
- **추적** — 실행이 trace_id/span_id로 기록됩니다
- **캐싱** — 유사한 쿼리는 캐시에서 즉시 반환됩니다

## 4. 자동 치유 (선택사항)

자동 치유에는 `.env` 환경 변수 설정이 필요합니다:

```bash
# 진단에 필요
OPENAI_API_KEY=sk-...

# 자동 PR용 (선택사항)
GITHUB_TOKEN=ghp_...
GITHUB_REPO_NAME=org/repo-name
```

### 온디맨드 치유

필요할 때 `VectorWaveHealer`를 호출하여 에러를 진단합니다:

```python
from vectorwave import VectorWaveHealer

healer = VectorWaveHealer(model="gpt-4-turbo")

# 특정 함수의 최근 에러를 진단
result = healer.diagnose_and_heal(
    function_name="generate_response",
    lookback_minutes=60,
    create_pr=True
)
```

### 스케줄 치유 (AutoHealerBot)

VectorWave에는 자동으로 에러를 스캔하고 수정 PR을 생성하는 내장 스케줄러가 있습니다:

```python
from vectorwave.utils.scheduler import start_scheduler
import threading

# 백그라운드 스레드에서 자동 치유 시작
# 5분마다 스캔, 함수당 60분 쿨다운
scheduler_thread = threading.Thread(
    target=start_scheduler,
    args=(5,),  # 점검 간격 (분)
    daemon=True
)
scheduler_thread.start()
```

`AutoHealerBot`은 자동으로:
- 최근 60분간 `ERROR` 상태 실행을 스캔
- 함수명 기준으로 중복 제거
- 쿨다운 중인 함수 건너뜀 (마지막 PR 후 60분)
- `.vtwignore`에 등록된 에러 건너뜀 (`FAILURE`로 분류, `ERROR` 아님)

> **VectorSurfer**: 에러 진단은 [VectorSurfer 대시보드](/vectorsurf)에서도 시각적 인터페이스로 사용할 수 있습니다 — 에러 탐색, 진단 확인, 원클릭 PR 생성.

## 5. Golden Dataset (선택사항)

검증된 실행을 Golden Dataset으로 승격하여 캐싱과 드리프트 감지를 개선합니다:

```python
from vectorwave import VectorWaveDatasetManager

dm = VectorWaveDatasetManager()

# 검증된 실행을 "Golden" 상태로 승격
dm.register_as_golden(
    log_uuid="abc-123",
    note="QA팀 검증 완료",
    tags=["v2", "production"]
)

# 새로운 Golden 후보 추천
candidates = dm.recommend_candidates(
    function_name="generate_response",
    limit=5
)
```

Golden 데이터는 시맨틱 캐싱에서 우선 순위를 가집니다 — 캐시 히트가 Golden 데이터와 매칭되면 먼저 반환됩니다. 또한 [드리프트 감지](/docs/vectorwave-drift)의 기준선으로 사용됩니다.

> **VectorSurfer**: Golden Dataset 관리는 [VectorSurfer 대시보드](/vectorsurf)에 내장되어 있습니다 — 시각적으로 탐색, 승격, 관리할 수 있습니다.

## 6. 드리프트 감지 (선택사항)

입력이 정상 패턴에서 벗어나는 것을 모니터링합니다. VectorWave는 KNN 기반 접근 방식으로 새 입력을 과거 성공 실행과 비교합니다. 평균 거리가 임계값을 초과하면 웹훅 알림(Discord, Slack 등)을 전송합니다.

설정 및 구성은 [드리프트 감지](/docs/vectorwave-drift)를 참고하세요.

## 7. 대시보드 실행

### VectorSurfer

VectorSurfer 대시보드를 열어 모든 AI 함수를 모니터링하세요:

**[대시보드 열기 →](https://vectorsurfer.com)**

주요 기능:
- 실시간 KPI 카드 (실행 횟수, 성공률, 평균 응답시간)
- 실행 타임라인 차트
- 분산 트레이스 워터폴
- AI 에러 자동 진단
- Golden Dataset 관리

자세한 내용은 [VectorSurfer 문서](/docs/vectorsurf-overview)를 참고하세요.

### VectorSurferSTL (경량)

경량 Python 전용 대안:

```bash
pip install vectorsurferstl
vectorsurferstl
```

## 8. .vtwignore로 에러 억제 (선택사항)

프로젝트 루트에 `.vtwignore` 파일을 생성하여 특정 에러 유형을 치유 및 알림 대상에서 제외합니다:

```
# 예상되는 예외 무시
ValueError
KeyError
DeprecationWarning
```

매칭되는 에러는 `ERROR` 대신 `FAILURE`로 분류됩니다 — AutoHealerBot이 건너뛰고, 웹훅 알림도 전송되지 않습니다.

## 9. VectorCheck로 회귀 테스트

```bash
pip install vectorcheck

# 모든 추적된 함수 테스트
vw test --target all

# 시맨틱 비교 모드 (생성형 AI용)
vw test --target all --semantic --threshold 0.85

# 실행 로그를 오프라인 분석용으로 내보내기
vw export --target my_module.my_function --output data.jsonl
```

## 설정

### 환경 변수

| 변수 | 필수 여부 | 설명 |
|---|---|---|
| `OPENAI_API_KEY` | 캐싱/치유 기능용 | 임베딩과 LLM 기능을 위한 OpenAI API 키 |
| `WEAVIATE_HOST` | 아니오 | Weaviate 호스트명 (기본값: `localhost`) |
| `WEAVIATE_PORT` | 아니오 | Weaviate HTTP 포트 (기본값: `8080`) |
| `WEAVIATE_GRPC_PORT` | 아니오 | Weaviate gRPC 포트 (기본값: `50051`) |
| `VECTORIZER` | 아니오 | 임베딩 제공자: `weaviate_module`, `openai_client`, `huggingface`, `none` (기본값: `weaviate_module`) |
| `GITHUB_TOKEN` | 자동 PR용 | 자동 치유 PR 생성을 위한 GitHub 토큰 |
| `GITHUB_REPO_NAME` | 자동 PR용 | 대상 리포지토리 (예: `org/repo-name`) |

### @vectorize 옵션

| 옵션 | 타입 | 기본값 | 설명 |
|---|---|---|---|
| `semantic_cache` | bool | `False` | 시맨틱 캐싱 활성화 |
| `cache_threshold` | float | `0.9` | 캐시 히트 코사인 유사도 임계값 |
| `capture_return_value` | bool | `False` | 반환값을 Weaviate에 저장 |
| `capture_inputs` | bool | `False` | 모든 함수 파라미터를 자동 캡처 |
| `replay` | bool | `False` | 리플레이 기반 회귀 테스트 활성화 |
| `auto` | bool | `False` | LLM으로 메타데이터 자동 생성 |
| `search_description` | str | `None` | 벡터 검색 최적화 설명 |
| `**execution_tags` | any | — | `.weaviate_properties`에 정의된 커스텀 태그 (예: `team="ml-team"`) |

## 다음은?

- [VectorWave](/vectorwave) 제품 페이지에서 상세 기능을 확인하세요
- [VectorSurfer](/vectorsurf) 대시보드를 둘러보세요
- [GitHub](https://github.com/Cozymori)에서 소스 코드와 이슈를 확인하세요
